<a href="../download/AP.pdf" download="《用户手册》.pdf" style="display: block;text-align:right;">
<img border="0" src="../images/helpdoc/SVG/downloadpdf.svg" alt="下载pdf">
</a>

**用 户 手 册**

**目 录**

[第1章 系统介绍](#第1章系统介绍)

>   [1.1 环境要求](#1.1环境要求)

>   [1.2 系统安装](#1.2系统安装)

>   [1.3 系统配置](#1.3系统配置)

>   [1.4 界面配置](#1.4界面配置)

>   [1.4.1 登录界面](#1.4.1登录界面)

>   [1.4.2 主界面](#1.4.2主界面)

>   [1.5 操作流程](#1.5操作流程)

[第2章 应用介绍](#第2章应用介绍)

>   [2.1 页面布局](#2.1页面布局)

>   [2.2 实时监控](#2.2实时监控)

>   [2.2.1 状态统计](#2.2.1状态统计)

>   [2.2.2 设备概览](#2.2.2设备概览)

>   [2.2.3 实时曲线](#2.2.3实时曲线)

>   [2.2.4 实时数据](#2.2.4实时数据)

>   [2.2.5 设备信息](#2.2.5设备信息)

>   [2.2.6 设备控制](#2.2.6设备控制)

>   [2.2.7 资源监测](#2.2.7资源监测)

>   [2.3 历史查询](#2.3历史查询)

>   [2.3.1 设备统计](#2.3.1设备统计)

>   [2.3.2 设备列表](#2.3.2设备列表)

>   [2.3.3 历史曲线](#2.3.3历史曲线)

>   [2.3.4 历史数据列表](#2.3.4历史数据列表)

>   [2.4 故障查询](#2.4故障查询)

>   [2.4.1 通信状态报警](#2.4.1通信状态报警)

>   [2.4.2 数据量报警](#2.4.2数据量报警)

>   [2.4.3 枚举量报警](#2.4.3枚举量报警)

>   [2.4.4 开关量报警](#2.4.4开关量报警)

>   [2.5 日志查询](#2.5日志查询)

>   [2.5.1 设备日志](#2.5.1设备日志)

>   [2.5.2 系统日志](#2.5.2系统日志)

>   [2.6 权限管理](#2.6权限管理)

>   [2.6.1 组织用户](#2.6.1组织用户)

>   [2.6.2 角色管理](#2.6.2角色管理)

>   [2.7 驱动配置](#2.7驱动配置)

>   [2.7.1 协议配置](#2.7.1协议配置)

>   [2.7.2 单元配置-采控单元](#2.7.2单元配置-采控单元)

>   [2.7.3 单元配置-报警单元](#2.7.3单元配置-报警单元)

>   [2.7.4 实例配置-采控实例](#2.7.4实例配置-采控实例)

>   [2.7.5 实例配置-报警实例](#2.7.5实例配置-报警实例)

>   [2.7.6 实例配置-短信实例](#2.7.6实例配置-短信实例)

>   [2.8 设备管理](#2.8设备管理)

>   [2.8.1 泵设备](#2.8.1泵设备)

>   [2.8.2 管设备](#2.8.2管设备)

>   [2.8.3 辅件设备](#2.8.3辅件设备)

>   [2.8.4 短信设备](#2.8.4短信设备)

>   [2.9 系统配置](#2.9系统配置)

>   [2.9.1 模块配置](#2.9.1模块配置)

>   [2.9.2 字典配置](#2.9.2字典配置)

## <h1><a name="第1章系统介绍"></a>第1章 系统介绍</h1>  

## <h2><a name="1.1环境要求"></a>1.1 环境要求</h2>

**CPU**：2核及以上

**内存**：8G及以上

**硬盘**：1T及以上

**操作系统**：建议Windows server 2012 64位及以上（推荐：Windows server 2019）

**数据库**：Oracle19c 64位

官网下载地址：

https://www.oracle.com/database/technologies/oracle19c-windows-downloads.html

**JDK**：8.0 64位

官网下载地址：

https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html

**Tomcat**：9.0 64位

官网下载地址：

https://tomcat.apache.org/download-90.cgi

## <h2><a name="1.2系统安装"></a>1.2 系统安装</h2>

1、正确安装并配置jdk、tomcat（端口设为16100）、oracle数据库（Oracle19c需创建插拔数据库，安装时即可创建，实例名使用orclpdb）。

注意：随着系统的运行，oracle的日志文件会越来越大，当达到4G时，会影响到数据库的正常运行，可以选择关闭oracle日志文件的生成，操作方法如下。

运行“cmd”，打开命令窗口，依次执行以下命令进行关闭oracle日志操作：

1）lsnrctl

2）set log_status off

3）save_config

4）show log_status

![](../images/helpdoc/PNG/1ddd3ebcef28e66a22327ee0f124a801.png)

2、创建数据库

1）启动插拔数据库orclpdb

如果插拔数据库未启动，则需先启动，

![](../images/helpdoc/PNG/68c9e80c7d6841dfcf104fc91b91586a.png)

2）打开《数据库》文件夹下《createDB》文件夹，打开1、createSpaceAndUser.sql文件，按照实际情况修改其中表空间及用户的信息

![](../images/helpdoc/PNG/f94b4da477fb8fc73afc471ddfd88b5e.png)

3）编辑批处理文件autorun.bat中的数据库连接信息，保存关闭后执行，执行完毕后按任意键退出，数据库创建完毕。

![](../images/helpdoc/PNG/920a294be8faa1ba0844172fc7fd4a9a.png)

1.  管理员用户名/密码@数据库实例名

2.  自建的用户名/密码@数据库实例名

3、软件部署：打开
“1、软件”目录，将《ad.exe》程序拷贝到服务器中（路径自定义）；将《ap\_fb.rar》解压到tomcat安装目录\\webapps文件夹下。

4、端口开放

云服务器(如阿里云安全组规则中)需要开放端口；如果本机启动了防火墙，还需要在防火墙中将端口设为例外。

**必开放端口**，如有改变按实际情况执行：

1）16100：平台web访问端口；

2）19100：驱动程序主站端口，用于设备连接。

## <h2><a name="1.3系统配置"></a>1.3 系统配置</h2>

同步修改tomcat安装目录\\webapps\\ap\_fb\\WEB-INF\\config\\config.yml和tomcat安装目录\\webapps\\ap\_fb\\WEB-INF\\classes\\config\\config.yml文件，配置项如下：

1、软件访问路径配置

>   ![](../images/helpdoc/PNG/c3cc269d8a2ba38522e68f700e1c1676.png)

2、数据库连接配置

![](../images/helpdoc/PNG/dd5d971bae5931571092844e55e2fe1a.png)

一般只需修改IP、端口、数据库实例名、用户名、密码即可。

注意：对于oracle12c及以上版本，端口后是”/”，而不是”:”，如jdbc:oracle:thin:@127.0.0.1:1521/orcl

3、驱动程序路径配置，只需将IP修改为驱动程序所在服务器IP即可。

![](../images/helpdoc/PNG/7fd94b6adce0d6426e4aae22565d4e59.png)

4、邮件发送账号配置

![](../images/helpdoc/PNG/8b798b6e460f74782e31088af5996a3b.png)

发送邮件的账号需要开启SMTP服务，并记录开通后生成的授权码或者独立密码。

account：邮箱账号；

password：邮箱授权码或独立密码；

smtpHost：邮箱服务器地址，不同服务器地址不同；

smtpPort：邮箱SMTP端口，以实际为准。

5、数据保存模式

![](../images/helpdoc/PNG/005f4c0942ea89694e16e0ea095701d5.png)

采集数据保存到数据库的模式：0-以地址为准(相同地址的项对应数据库同一字段)；1-以名称为准(相同名称的项对应数据库同一字段)，一般只需设置一次。

6、是否显示图标

![](../images/helpdoc/PNG/db4a65bcc9c1a52b8e00b32d39860616.png)

软件界面是否显示图标(如中石油、中石化等单位logo)，false-不显示；true-显示。

7、是否打印日志

![](../images/helpdoc/PNG/c05e5160dd429999446f24681784c90f.png)

是否打印日志，false-不打印（非调试模式推荐使用）；true-打印。

8、配置完成后，启动ad驱动程序，启动tomcat。启动后，打开浏览器，访问并登录软件，按照1.5节说明进行操作；如需修改软件名称、界面风格，请参考1.4节。

ad驱动程序有两种启动方式：

1）非日志模式：不带参数启动（非调试模式推荐使用）；

2）日志模式：ad –d启动，同目录下生成ad_log.txt日志文件。

## <h2><a name="1.4界面配置"></a>1.4 界面配置</h2>

先停止tomcat（如果正在运行），配置完成后再启动。如果配置未生效，需要清理浏览器缓存。

### <h3><a name="1.4.1登录界面"></a>1.4.1 登录界面</h3>

![](../images/helpdoc/PNG/ffc5d57a0cfcf1391dfc09c966767fe1.png)

1、软件名称配置

同步修改tomcat安装目录\\webapps\\ap\_fb\\WEB-INF\\config\\config.yml和tomcat安装目录\\webapps\\ap\_fb\\WEB-INF\\classes\\config\\config.yml文件

![](../images/helpdoc/PNG/9028ca4a86e82ad485c572979fd90184.png)

2、软件简介配置

同步修改tomcat安装目录\\webapps\\ap\_fb\\WEB-INF\\config\\config.yml和tomcat安装目录\\webapps\\ap\_fb\\WEB-INF\\classes\\config\\config.yml文件

![](../images/helpdoc/PNG/a1bc55899dca807f9667c6cbfdadcf66.png)

3、背景图片

替换tomcat安装目录\\webapps\\ap\_fb\\images路径下“login.jpg”图片，图片分辨率1920\*1000。修改后如未生效，需要清理浏览器缓存。

### <h3><a name="1.4.2主界面"></a>1.4.2 主界面</h3>

![](../images/helpdoc/PNG/71e2ec150dfcaf6bb7f7cdc20a6ad391.png)

1、banner背景色

背景为从左到右渐变，修改tomcat安装目录\\webapps\\ap\_fb\\styles\\banner.css文件：

![](../images/helpdoc/PNG/20fd2b56a3799adca072231c4e54e560.png)

修改后如未生效，需要清理浏览器缓存。

（1）、底部边框

图中：2px-宽度，solid-线型为实线，\#FBC02D-边框颜色金色

（2）、背景色

图中配置效果为从左到右渐变，\#006093-左侧颜色，\#0079A8-中间颜色，\#018AB9-右侧颜色。

2、图标：

（1）、替换tomcat安装目录\\webapps\\ap\_fb\\images\\logo路径下“logo.jpg”图片，图片分辨率956\*921；

（2）、替换tomcat安装目录\\webapps\\ap\_fb\\images\\logo路径下“favicon.ico”图片，图片分辨率16\*16。

如不显示图标，参考“1.3系统配置”内容进行配置。

3、软件名称

修改名称：见1.4.1节软件名称配置部分；

修改名称样式：修改tomcat安装目录\\webapps\\ap\_fb\\styles\\banner.css文件，修改后如未生效，需要清理浏览器缓存。

![](../images/helpdoc/PNG/0a06e340aa355e99a04cc7323f91e788.png)

（1）、字体颜色；

（2）、bold-加粗，23px/50%-字体大小/行高，微软雅黑-字体；

（3）、距左侧距离，如果图标大小改变，则需要修改此处；

（4）、字体阴影，图中配置效果为：水平1px，竖直1px，模糊距离0px，阴影颜色白色。

4、修改密码按钮样式

修改tomcat安装目录\\webapps\\ap\_fb\\styles\\banner.css文件，修改后如未生效，需要清理浏览器缓存。

![](../images/helpdoc/PNG/00fb5abf529a3276911106f387837fe7.png)

（1）图标：替换tomcat安装目录\\webapps\\ap\_fb\\images路径下“password.svg”图片；

（2）距右侧距离；

（3）字体颜色-白色；

（4）字体：bold-加粗，13px/50%-字体大小/行高，微软雅黑-字体

5、退出按钮样式

修改tomcat安装目录\\webapps\\ap\_fb\\styles\\banner.css文件，修改后如未生效，需要清理浏览器缓存。

![](../images/helpdoc/PNG/2aeb23c932a94d25b06bb0ec33bfae3f.png)

（1）图标：替换tomcat安装目录\\webapps\\ap\_fb\\images路径下“exit.svg”图片；

（2）距右侧距离；

（3）字体颜色-白色；

（4）字体：bold-加粗，13px/50%-字体大小/行高，微软雅黑-字体

6、帮助按钮样式

修改tomcat安装目录\\webapps\\ap\_fb\\styles\\banner.css文件，修改后如未生效，需要清理浏览器缓存。

![](../images/helpdoc/PNG/d030d0b26048913b8192957d27206752.png)

（1）图标：替换tomcat安装目录\\webapps\\ap\_fb\\images路径下“help.svg”图片；

（2）距右侧距离；

（3）字体颜色-白色；

（4）字体：bold-加粗，13px/50%-字体大小/行高，微软雅黑-字体

## <h2><a name="1.5操作流程"></a>1.5 操作流程</h2>

系统部署完成后需要根据使用者实际情况进行数据配置，流程如下：

1、输入默认的软件管理员账号进入系统；

2、“组织用户”模块创建单位和用户，**详情查看2.6.1节**；

3、“角色管理”模块创建角色信息，**详情查看2.6.2节**；

4、“驱动配置”模块配置协议、单元、实例信息，**详情查看2.7节**；

5、“设备管理”模块录入设备信息，**详情查看2.8节**；

## <h1><a name="第2章应用介绍"></a>第2章 应用介绍</h1>

浏览器要求：建议谷歌浏览器、360浏览器极速模式、IE9以上版本。

## <h2><a name="2.1页面布局"></a>2.1 页面布局</h2>

1、banner区：包括修改密码、退出、帮助及全屏按钮；

2、功能导航区：系统各主功能模块；

3、组织导航区：用户组织结构；

4、模块详细功能。

通过点击界面中缝位置的图标![G:\\work\\github\\apmd\\Image\\PNG\\025.png](../images/helpdoc/PNG/31c6015dc83f2a40f02cd33a2419f5a9.png)或![G:\\work\\github\\apmd\\Image\\PNG\\026.png](../images/helpdoc/PNG/74e5710c75eecf890973c56e5ba93a49.png)可实现界面伸缩。

![](../images/helpdoc/PNG/e4543871ab7eb77ef47a10c3c685198f.png)

图2-1 界面概览

## <h2><a name="2.2实时监控"></a>2.2 实时监控</h2>

根据设备数据进行实时监控，**有新数据时，界面自动刷新。**

![](../images/helpdoc/PNG/22c8726add2aa7e69bb286cd39350989.png)

图2-2 实时监控

### <h3><a name="2.2.1设备统计"></a>2.2.1 设备统计</h3>

设备统计包括通信状态统计和设备类型统计，点击饼图相应部分可对设备进行筛选。

![](../images/helpdoc/PNG/3ced97253db725db6e250d116bc85b0c.png)

图2-3 实时监控-通信状态统计饼图

![](../images/helpdoc/PNG/7bf0f794a0a7754d456fae62ce1ba92b.png)

图2-4 实时监控-设备类型统计饼图

### <h3><a name="2.2.2设备概览"></a>2.2.2 设备概览</h3>

显示设备列表及最新采集数据，动态实时刷新，并可将数据导出。概览列表中显示的内容可在数据字典模块进行配置，详见2.9.2字典配置。

切换历史数据：选中设备所在行，点击“查看历史”按钮（或者双击设备所在行），跳转到历史查询模块并显示该设备历史数据。

![](../images/helpdoc/PNG/626c0a901250056d88b426d9b71055bb.png)

图2-5 实时监控-设备概览

### <h3><a name="2.2.3实时曲线"></a>2.2.3 实时曲线</h3>

实时曲线，动态实时刷新。显示的曲线可在驱动配置-单元配置-采控单元中配置。实时曲线只能查看当天数据，可点击时间区域显示对应曲线。

![](../images/helpdoc/PNG/b05cd227ba2970592cb343c341db4436.png)

图2-6 实时监控-实时曲线

### <h3><a name="2.2.4实时数据"></a>2.2.4 实时数据</h3>

显示概览表中所选设备的实时数据及报警，动态实时刷新。

![](../images/helpdoc/PNG/9ae4b87afc1031566397595cddde0af0.png)

图2-7 实时监控-实时数据

### <h3><a name="2.2.5设备信息"></a>2.2.5 设备信息</h3>

显示设备附加信息以及辅件信息。配置详见2.8.1泵设备和2.8.2管设备部分。

设备附加信息：在设备管理部分录入

![](../images/helpdoc/PNG/8984469c5cb07db287bb6cf1bb13503a.png)

图2-8 实时监控-设备附加信息

辅件设备：在辅件设备管理中录入，并在相应的设备管理模块中配置主设备所具备的辅件设备。

![](../images/helpdoc/PNG/4ed9b975458f18e48d91b8bfa754eade.png)

图2-9 实时监控-辅件设备

### <h3><a name="2.2.6设备控制"></a>2.2.6 设备控制</h3>

根据设备配置的采控数据，动态显示控制项，点击按钮进行相应的控制。

**注意：当前登录用户拥有控制权限且目标设备在线时，才可进行控制**。

![](../images/helpdoc/PNG/c97b7887e4231b510017407f79e653bf.png)

图2-10 实时监控-设备控制

### <h3><a name="2.2.7资源监测"></a>2.2.7 资源监测</h3>

实时监测服务器的CPU、内存使用情况、数据库表空间使用率(当使用率达到100%时，将影响数据库正常使用，需扩展表空间文件)以及驱动程序运行状态和版本信息，点击可查看历史曲线。

![](../images/helpdoc/PNG/b2c109baea417c219f6d310d26241189.png)

图2-11 实时监控-资源监测

## <h2><a name="2.3历史查询"></a>2.3 历史查询</h2>

查询设备历史数据

![](../images/helpdoc/PNG/0457e1f5882a7f72333d703200f7bfdf.png)

图2-12 历史查询

### <h3><a name="2.3.1设备统计"></a>2.3.1 设备统计</h3>

设备统计包括通信状态统计和设备类型统计，点击饼图相应部分可对设备进行筛选。

![](../images/helpdoc/PNG/3ced97253db725db6e250d116bc85b0c.png)

图2-13 实时监控-通信状态统计饼图

![](../images/helpdoc/PNG/7bf0f794a0a7754d456fae62ce1ba92b.png)

图2-14 实时监控-设备类型统计饼图

### <h3><a name="2.3.2设备列表"></a>2.3.2 设备列表</h3>

显示设备列表以及当前通信状态和最新数据的采集时间。

![](../images/helpdoc/PNG/b4a382ece97e939142535905b8d2c5e0.png)

图2-15 历史查询-设备列表

### <h3><a name="2.3.3历史曲线"></a>2.3.3 历史曲线</h3>

显示设备列表中所选设备的历史曲线，当历史数据记录数大于500时，显示数据抽稀后的曲线。

![](../images/helpdoc/PNG/22c33672e7941a0f4a85e62292ea5eb4.png)

图2-16 历史查询-历史曲线

点击曲线上的菜单按钮，选择“图形设置”，可设置每条曲线Y轴坐标最大、最小值。

![](../images/helpdoc/PNG/23be5760f0d2b0bf4373f769ab29c39d.png)

图2-17 历史查询-历史曲线设置1

![](../images/helpdoc/PNG/0690caa2813f5779a1d6b7c41ffb2a07.png)

图2-18 历史查询-历史曲线设置2

### <h3><a name="2.3.4历史数据列表"></a>2.3.4 历史数据列表</h3>

显示设备列表所选设备的历史数据，表中为概览数据的历史，点击详细查看详细数据。

![](../images/helpdoc/PNG/ea9795a40d9609804170ce83d1fd266a.png)

图2-19 历史查询-概览数据历史

![](../images/helpdoc/PNG/4d7aaca8f0b9d776166b96945943e0eb.png)

图2-20 历史查询-详细数据

## <h2><a name="2.4故障查询"></a>2.4 故障查询</h2>

查询设备报警信息，包括通信状态报警、数据量报警、枚举量报警、开关量报警。

### <h3><a name="2.4.1通信状态报警"></a>2.4.1 通信状态报警</h3>

查询设备上线、离线报警数据。

![](../images/helpdoc/PNG/7beda507061d644da2166b79bb74ea51.png)

图2-21 故障查询-通信状态报警

### <h3><a name="2.4.2数据量报警"></a>2.4.2 数据量报警</h3>

查询设备数据量数据的报警信息。

![](../images/helpdoc/PNG/79f166db454b4c4984fe66bfe6b43dc3.png)

图2-22 故障查询-数据量报警

### <h3><a name="2.4.3枚举量报警"></a>2.4.3 枚举量报警</h3>

查询设备枚举量数据的报警信息。

![](../images/helpdoc/PNG/e594f1197e1822ffc4ed659ef6eec756.png)

图2-23 故障查询-枚举量报警

### <h3><a name="2.4.4开关量报警"></a>2.4.4 开关量报警</h3>

查询设备开关量数据的报警信息。

![](../images/helpdoc/PNG/db69a122c4bbcef1f403ec884487e5ca.png)

图2-24 故障查询-开关量报警

## <h2><a name="2.5日志查询"></a>2.5 日志查询</h2>

日志数据查询，包括设备日志和系统日志。

### <h3><a name="2.5.1设备日志"></a>2.5.1 设备日志</h3>

查询设备操作日志，如设备的添加、修改、删除和控制。

![](../images/helpdoc/PNG/b80fdd592a385ad6b5d69d55b5c4084a.png)

图2-25 日志查询-设备日志

### <h3><a name="2.5.2系统日志"></a>2.5.2 系统日志</h3>

查询用户登录时间、登录IP等。

![](../images/helpdoc/PNG/c331afe6b4b77768e9337aad37ce0747.png)

图2-26 日志查询-系统日志

## <h2><a name="2.6权限管理"></a>2.6 权限管理</h2>

系统部署完成后需要新建单位、用户并划分权限。

### <h3><a name="2.6.1组织用户"></a>2.6.1 组织用户</h3>

单位组织以及用户维护，用户列表中带\*的用户为当前登录用户。只能查看当前登录用户自己以及角色等级小于自己的其他用户。

![](../images/helpdoc/PNG/0a5fd35c247e0f371b706935383b9513.png)

图2-27 组织用户

#### <h4><a name="2.6.1.1单位创建"></a>2.6.1.1 单位创建</h4>

（1）点击单位窗口中“创建”按钮，弹出单位创建窗口。

![](../images/helpdoc/PNG/e81193b84d0bad3b688052ad823c3bbe.png)

图2-28单位管理-单位创建

上级单位：默认为单位列表中选中的单位，没有选中则为列表中第一条记录；

单位类别：按实际选择，如局级；

单位名称：输入单位名称；

单位说明：单位详细说明，可不填写。

填写完成后，点击“保存”按钮，完成创建。

注意：同一父节点下，不能创建同名单位

#### <h4><a name="2.6.1.2单位修改"></a>2.6.1.2 单位修改</h4>

选中要修改的组织，点击“修改”按钮（或者双击）打开修改窗口，编辑相应内容后，点击“修改”按钮，完成操作。

![](../images/helpdoc/PNG/5aa859001167f95ade4d4ece33dc5ed1.png)

图2-27单位管理-单位修改

#### <h4><a name="2.6.1.3单位删除"></a>2.6.1.3 单位删除</h4>

选中要删除的单位，点击“删除”按钮进行删除操作，不能删除当前登录用户所属组织。

![](../images/helpdoc/PNG/0bb86351b5ddbf16462736b708a5f5bb.png)

图2-28 单位管理-单位删除

#### <h4><a name="2.6.1.4用户创建"></a>2.6.1.4 用户创建</h4>

点击用户窗口中的“创建”按钮，将在单位列表中选中的单位下创建新用户。

![](../images/helpdoc/PNG/937dd95d733228dedab300908ce01ee4.png)

图2-29 用户创建

用户名称、用户账号：按实际填写；

用户密码：默认为123456

角色：选择要授予的角色，则该用户获得所授予的角色具备的权限(只能授予其他用户小于当前登录用户角色等级的角色，如没有则需先创建角色)；

用户电话：用于接收报警短信；

内部邮箱：用于接收报警邮件(用户创建后，会向该邮箱发送用户信息邮件)；

快捷登录：在登录界面是否可以免密登录，一般用于数据查询人员；

接收报警短信：是否接收设备报警短信；

接收报警邮件：是否接收设备报警邮件；

状态：设为失效后，则该用户不能登录系统。

#### <h4><a name="2.6.1.5用户修改"></a>2.6.1.5 用户修改</h4>

选中要修改的用户，点击“修改”按钮（或者双击）打开修改窗口，编辑相应内容后，点击“修改”按钮，完成修改，并向该用户输入的邮箱发送邮件。不能修改当前登录用户的角色和状态。

![](../images/helpdoc/PNG/8349c6d898e7a3260c5964f003f67188.png)

图2-30 用户修改

#### <h4><a name="2.6.1.6用户删除"></a>2.6.1.6 用户删除</h4>

勾选要删除的用户，点击“删除”按钮进行删除操作，不能删除当前登录用户。

![](../images/helpdoc/PNG/80321d4fba4b75ea43968aa2b89ccf4b.png)

图2-31 用户删除

#### <h4><a name="2.6.1.7用户隶属迁移"></a>2.6.1.7 用户隶属迁移</h4>

将用户迁移到其他单位下

点击“用户隶属迁移按钮”，在弹出的窗口中，选中要迁移的用户以及目的单位，单击“迁移”按钮，完成操作。

![](../images/helpdoc/PNG/04e3e17526762867e3dab0c8f4ce7eca.png)

图2-32 用户隶属迁移

### <h3><a name="2.6.2角色管理"></a>2.6.2 角色管理</h3>

只能查看和修改等级小于当前登录用户角色等级的角色，带\*的角色为登录用户所属角色。

![](../images/helpdoc/PNG/035ccdd33293cef997a7688629ab4803.png)

图2-33 角色管理

#### <h4><a name="2.6.2.1角色创建"></a>2.6.2.1 角色创建</h4>

点击“创建”按钮，创建角色

![](../images/helpdoc/PNG/92ae2c7d995ffcc5d06457211e7a5e52.png)

图2-34 角色管理-角色创建

角色名称：角色名称；

角色登录：等级小于当前登录用户角色等级的角色(数字越大代表等级越小)；

数据显示级别：等级小于当前登录用户数据显示级别(数字越大代表等级越小)；；

设备控制权限：角色是否具有设备控制权限；

角色描述：角色信息描述；

#### <h4><a name="2.6.2.2角色修改"></a>2.6.2.2 角色修改</h4>

选中要修改的角色，点击“修改”按钮（或者双击角色）打开修改窗口，编辑相应内容后，点击“修改”按钮，完成操作。不能修改当前登录用户所属角色。

![](../images/helpdoc/PNG/4075dc29154a901df08b20f4c5ed3467.png)

图2-35 角色管理-角色修改

#### <h4><a name="2.6.2.3角色删除"></a>2.6.2.3 角色删除</h4>

勾选要删除的角色，点击“删除”按钮，进行删除操作。不能删除当前登录用户所属角色。

![](../images/helpdoc/PNG/46e67803edae53414dd84ec856f42b31.png)

图2-36 角色管理-角色删除

#### <h4><a name="2.6.2.4角色授权"></a>2.6.2.4 角色授权</h4>

选中要授权的角色，在右侧模块表中勾选要授予给角色的模块，点击“保存”。不能修改当前登录用户所属角色的权限。

![](../images/helpdoc/PNG/8501d67c08b6a5b56063254b1cb9becd.png)

图2-37 角色管理-角色授权

## <h2><a name="2.7驱动配置"></a>2.7 驱动配置</h2>

包括协议配置、单元配置、实例配置。

### <h3><a name="2.7.1协议配置"></a>2.7.1 协议配置</h3>

![](../images/helpdoc/PNG/0fbd73a4544f381823428e5cc5a96d0b.png)

图2-38 协议配置

#### <h4><a name="2.7.1.1协议列表"></a>2.7.1.1 协议列表</h4>

第一层节点：协议所属设备类型，泵设备或管设备；

第二层节点：协议；

![](../images/helpdoc/PNG/3f8f56c9f6b0e614ab9c8dc0fcb845ec.png)

图2-39 协议列表

#### <h4><a name="2.7.1.2协议属性"></a>2.7.1.2 协议属性</h4>

树形列表中所选协议的属性，可在此处进行查看和修改。

![](../images/helpdoc/PNG/76206ee43252798df2ee3f9b50d17157.png)

图2-40协议属性窗口

#### <h4><a name="2.7.1.3协议地址配置"></a>2.7.1.3 协议地址配置</h4>

协议下具体地址配置，在此处进行添加（右键插入）、修改（单元格直接编辑）、删除（右键删除）。修改后点击保存按钮。（支持从excel中粘贴）

![](../images/helpdoc/PNG/971ed9de1863dc02cda67fb29fb34def.png)

图2-41 协议地址配置

名称：项名称；

地址：项起始地址，数组地址、modbus协议寄存器地址；

数量：所配置的存储数据类型数量，如1个uint16；

存储数据类型：设备中存储该项数据的数据类型，包括：byte、int16（有符号16位整型）、uint16（无符号16位整型）、float32（32位浮点）、bcd（bcd码，时间一般配置为该类型）；

接口数据类型：上位机要解析成的数据类型(界面显示的数据)，包括bool（布尔型）、int（整型）、float32（32位浮点）、float64（64位浮点）、string（字符串），位数组和开关量接口数据类型固定选择bool型；

单位：上位机解析后的单位（和界面显示一致）；

换算比例：存储数据\*换算比例=接口数据（解析数据时，存储数据解析后乘以换算比例，得到界面显示的接口数据；控制设备时，界面输入的控制值为接口数据，除以换算比例，为最终写入到设备中的存储数据）；

解析模式：数据量、枚举量、开关量；

采集模式：主动上传（设备主动上传）、被动相应（设备被动等待上位机读写）。

#### <h4><a name="2.7.1.4项含义配置"></a>2.7.1.4 项含义配置</h4>

枚举量：如变频器运行状态值对应的含义配置

![](../images/helpdoc/PNG/63b12f937205945c7b41859caefea877.png)

图2-42 枚举量含义配置

开关量：如保护开关位数组，位所对应的开关状态

![](../images/helpdoc/PNG/ed86ea7555ba2bfbbc1ae9c3d614bb18.png)

图2-43 开关量位含义配置

数据量：如井口温度，将值-50设置为无效数据N/A

![](../images/helpdoc/PNG/b68e63392ff7ea95e767b74ac38ee7e4.png)

图2-44 数据量显示转换配置

#### <h4><a name="2.7.1.5协议添加及删除"></a>2.7.1.5 协议添加及删除</h4>

1、协议添加

点击“添加协议”按钮，添加协议，同设备类型下不能创建同名协议。

![](../images/helpdoc/PNG/b32aa932605be8ba81ac7b630d8035d7.png)

图2-45 协议添加

协议添加后，再配置协议的地址信息。

2、协议删除

在协议列表中，选中要删除的协议，右键→删除协议。

![](../images/helpdoc/PNG/986f36f1bc0dc526a956ddbd46d0fc43.png)

图2-46 协议删除

#### <h4><a name="2.7.1.6存储字段表"></a>2.7.1.6 存储字段表</h4>

点击“存储字段表”按钮，查看泵设备和管设备根据协议自动生成的数据库字段表，相应项的内容存储到设备采集数据表相应的字段中。

存储模式分为以地址为准和以名称为准，详见1.3系统配置中数据保存模式配置。

![](../images/helpdoc/PNG/12faf930fdf5e7ef4edc03318220eb4d.png)

图2-47 存储字段表

### <h3><a name="2.7.2单元配置-采控单元"></a>2.7.2 单元配置-采控单元</h3>

在协议下面创建采控单元，每个采控单元下面可以创建一个采集组和一个控制组，并勾选采集组和控制组包含的项。

![](../images/helpdoc/PNG/eaca8166ae932e97fe73bbb1f0cacd7f.png)

图2-48 采控单元

#### <h4><a name="2.7.2.1单元列表"></a>2.7.2.1 单元列表</h4>

第一层节点：设备类型，泵设备或管设备

第二层节点：协议；

第三层节点：采控单元；

第四层节点：采集组或者控制组；

![](../images/helpdoc/PNG/3d0c9176db66fe84ae7f16a451cd9c42.png)

图2-49 采控单元列表

#### <h4><a name="2.7.2.2属性"></a>2.7.2.2 属性</h4>

1、采控单元属性

树形列表中所选采控单元的属性，可在此处进行查看和修改。

![](../images/helpdoc/PNG/cab41d126d40ae84665aff61fa1e5753.png)

图2-50采控单元属性窗口

2、采集组属性

树形列表中所选采集组的属性，可在此处进行查看和修改。

采集周期：针对被动相应数据生效，上位机采集周期；

保存周期：历史数据保存周期；

![](../images/helpdoc/PNG/96d07ea691709f7be850cb7a9e8a7152.png)

图2-51采集组属性窗口

3、控制组属性

树形列表中所选控制组的属性，可在此处进行查看和修改。

![](../images/helpdoc/PNG/4d6d1b8569da6a72761d3ab72572ef6a.png)

图2-52控制组属性窗口

#### <h4><a name="2.7.2.3组包含项配置"></a>2.7.2.3 组包含项配置</h4>

1、采集组包含的采集项配置

左侧树形列表中选择要配置的采集组，在采控项配置列表中勾选包含的采集项；

![](../images/helpdoc/PNG/875b3aff21570b97b56128a13074cde2.png)

图2-53采集组包含采集项配置

显示级别：采集项显示级别，用户只能查看显示级别小于自身数据显示级别的数据（见角色管理和用户管理，数字越大代表等级越小）；

显示顺序：对应实时监控模块中实时数据表和历史查询模块中详细数据表中项的显示顺序（左到右、上到下顺序），未设置顺序的项将放在最后面显示；

实时曲线：实时曲线显示顺序，未设置则不显示曲线；

实时曲线颜色：双击单元格，选择曲线颜色，未设置按默认颜色显示；

历史曲线：历史曲线显示顺序，未设置则不显示曲线；

历史曲线颜色：双击单元格，选择曲线颜色，未设置按默认颜色显示；

![](../images/helpdoc/PNG/641416526058f9623ba9f08d33f2895c.png)

图2-54曲线颜色配置

2、控制组包含的控制项项配置

左侧树形列表中选择要配置的控制组，在采控项配置列表中勾选包含的控制项（读写类型为只写或者读写）；

显示级别：控制项显示级别，用户只能查看显示级别小于自身数据显示级别的数据（见角色管理和用户管理，数字越大代表等级越小）；

显示顺序：对应实时监控模块中控制列表中控制项的显示顺序；

![](../images/helpdoc/PNG/0d71e0d307839487ad7181b63f014200.png)

图2-55控制组包含控制项配置

#### <h4><a name="2.7.2.4创建和删除采控单元"></a>2.7.2.4 创建和删除采控单元</h4>

1、创建采控单元

点击“添加采控单元”按钮，进行采集单元的创建。

协议名称：在下拉框中选择所属协议；

单元名称：单元名称，同一协议下不能创建同名的采集单元；

单元描述：单元描述；

![](../images/helpdoc/PNG/839a6803a963fc053f40ea845af12021.png)

图2-56创建采控单元

2、删除采控单元

在左侧树形菜单中选中要删除的单元，右键→删除采控单元。

![](../images/helpdoc/PNG/d6485432ebdeb74a088dd2821bce98e9.png)

图2-57删除采控单元

#### <h4><a name="2.7.2.5创建和删除采控组"></a>2.7.2.5 创建和删除采控组</h4>

1、创建采控组

点击“添加采控组”按钮，进行采集组的创建。

协议名称：在下拉框中选择所属协议；

单元名称：在下拉框中选择所属单元；

组名称：组名称，同一采控单元下不能创建同名采集组；

组类型：采集组或者控制组

采集周期：采集组填写

保存周期：采集组填写

组描述：组描述。

![](../images/helpdoc/PNG/b6c1f5d6ce9c2307d05a9d78ce25ecef.png)

图2-58创建采控组

2、删除采控组

在左侧树形菜单中选中要删除的组，右键→删除采控组。

![](../images/helpdoc/PNG/6759f27eb560bb42aaf2a0a10e26da7b.png)

图2-59删除采控组

### <h3><a name="2.7.3单元配置-报警单元"></a>2.7.3 单元配置-报警单元</h3>

在协议下面创建报警单元，并设置单元下包含的报警项及报警配置。

![](../images/helpdoc/PNG/f8789c1ec642ba41bee5637449dbd4e6.png)

图2-60 报警单元

#### <h4><a name="2.7.3.1单元列表"></a>2.7.3.1 单元列表</h4>

第一层节点：设备类型，泵设备或管设备

第二层节点：协议；

第三层节点：报警单元；

#### <h4><a name="2.7.3.2单元属性"></a>2.7.3.2 单元属性</h4>

树形列表中所选报警单元的属性，可在此处进行查看和修改。

![](../images/helpdoc/PNG/dd72c4072d1f48bf44220bdffb721b4f.png)

图2-61报警单元属性窗口

#### <h4><a name="2.7.3.3单元包含报警项配置"></a>2.7.3.3 单元包含报警项配置</h4>

左侧树形列表中选择要配置的报警，分别配置数据量、开关量、枚举量、通信状态报警项；

1、数据量报警项配置

勾选单元包含的数据量报警项，并设置

上限：报警上限；

下限：报警下限；

回差：值大于上限和回差的和或者小于下限和回差的差值则报警；

延时：延时时间内不重复报警和推送；

报警级别：正常、一级报警、二级报警、三级报警（一级为最紧急严重）；

报警使能：使能或者失效（失效则一律不报警）；

是否发送短信：报警发生时是否向用户发送短信（建议一级报警项设为是，其他为否，避免频繁发送）；

是否发送右键：报警发生时是否向用户发送邮件（建议一级报警项设为是，其他为否，避免频繁发送）；

![](../images/helpdoc/PNG/13814cfd69fce58e98fa597c9684f5a4.png)

图2-62数据量报警项配置

2、开关量报警项配置

选中要设置报警的开关量数据，并设置

触发状态：开或者关触发报警；

延时：延时时间内不重复报警和推送；

报警级别：正常、一级报警、二级报警、三级报警（一级为最紧急严重）；

报警使能：使能或者失效（失效则一律不报警）；

是否发送短信：报警发生时是否向用户发送短信（建议一级报警项设为是，其他为否，避免频繁发送）；

是否发送右键：报警发生时是否向用户发送邮件（建议一级报警项设为是，其他为否，避免频繁发送）；

![](../images/helpdoc/PNG/a16e9dfc296a1a2006dcb2d802f3a11b.png)

图2-63开关量报警项配置

3、枚举量报警项配置

勾选单元包含的枚举量报警项，并设置

延时：延时时间内不重复报警和推送；

报警级别：正常、一级报警、二级报警、三级报警（一级为最紧急严重）；

报警使能：使能或者失效（失效则一律不报警）；

是否发送短信：报警发生时是否向用户发送短信；

是否发送右键：报警发生时是否向用户发送邮件；

![](../images/helpdoc/PNG/88524cdaf888a7c44d1fdeedbb83c483.png)

图2-64枚举量报警项配置

4、通信状态报警项配置

勾选单元包含的通信状态报警项，并设置

延时：延时时间内不重复报警和推送；

报警级别：正常、一级报警、二级报警、三级报警（一级为最紧急严重）；

报警使能：使能或者失效（失效则一律不报警）；

是否发送短信：报警发生时是否向用户发送短信；

是否发送右键：报警发生时是否向用户发送邮件；

![](../images/helpdoc/PNG/310bf59f0f5b4d2f714b43d9d6e6eea3.png)

图2-65通信状态报警项配置

#### <h4><a name="2.7.3.4报警颜色配置"></a>2.7.3.4 报警颜色配置</h4>

点击“报警颜色配置”按钮，对通信状态以及各级别报警的颜色进行配置。

![](../images/helpdoc/PNG/7d4f85a7eac3c30de9d17836e9e75f18.png)

图2-66通信状态报警项配置

通信状态颜色：在线状态和离线状态报警颜色配置，生效范围：

1）实时监控模块：设备概览表中通信状态列；

2）实时监控模块：通信状态统计饼图颜色(在线、离线所设背景色)；

3）历史查询模块：设备列表和历史数据表中通信状态列；

4）历史查询模块：通信状态统计饼图颜色(在线、离线所设背景色)。

报警等级颜色：数据报警等级颜色配置，生效范围：

1）实时监控模块：设备概览表和实时数据表中采集数据报警颜色；

2）历史查询模块：历史数据表和详细数据表中采集数据报警颜色。

### <h3><a name="2.7.4实例配置-采控实例"></a>2.7.4 实例配置-采控实例</h3>

在采控单元中配置完采控单元后（确定采控项和地址配置），还需配置采控实例（读写以及解析时具体的协议），实例和设备直接关联。

![](../images/helpdoc/PNG/1f01d9b90b29107ab0464750bd9fce65.png)

图2-67采控实例配置

#### <h4><a name="2.7.4.1实例列表"></a>2.7.4.1 实例列表</h4>

第一层节点：设备类型，泵设备或管设备

第二层节点：采控实例；

第三层节点：采控实例配置的采控单元；

第四层节点：采控实例配置的采控单元下的采控组；

![](../images/helpdoc/PNG/95ca9098c5e785549769597fdb1a4289.png)

图2-68采控实例列表

#### <h4><a name="2.7.4.2实例属性"></a>2.7.4.2 实例属性</h4>

树形列表中所选采控实例的属性，可在此处进行查看和修改。

![](../images/helpdoc/PNG/e389f2db643c450696bca4ac880cfccf.png)

图2-69采控实例属性窗口

#### <h4><a name="2.7.4.3创建和删除实例"></a>2.7.4.3 创建和删除实例</h4>

1、创建实例

点击“添加实例”按钮，进行创建。

设备类型：泵设备或者管设备

实例名称：实例名称，同一设备类型下不能创建同名实例；

采控单元：在下拉框中选择对应的采控单元；

采集协议类型：数据采集及解析具体协议，目前支持private-kd93（科台斯）、private-lq1000（灵旗）、modbus-tcp、modbus-rtu四种协议；

控制协议类型：设备控制具体协议，目前支持modbus-tcp、modbus-rtu两种协议；

注册包前缀：注册包设备上线时发送的信息，如没有则不填写；

注册包后缀：如没有则不填写；

心跳包前缀：用于判断设备连接状态，如没有则不填写；

心跳包后缀：如没有则不填写；

排序：实例排序序号，对应树形列表中实例显示顺序。

![](../images/helpdoc/PNG/b4048338211f20d0667ad95c5087c205.png)

图2-70创建采控实例

2、删除实例

在左侧树形菜单中选中要删除的实例，右键→删除采控实例。

![](../images/helpdoc/PNG/beb7f2a965a9b7df4b96a33577bda6db.png)

图2-71删除采控实例

### <h3><a name="2.7.5实例配置-报警实例"></a>2.7.5 实例配置-报警实例</h3>

在报警单元中配置完报警单元后，还需配置报警实例。

![](../images/helpdoc/PNG/f03f8174c7a59a399898252c3f5207c8.png)

图2-72报警实例配置

#### <h4><a name="2.7.5.1实例列表"></a>2.7.5.1 实例列表</h4>

第一层节点：设备类型，泵设备或管设备

第二层节点：报警实例；

第三层节点：报警实例配置的报警单元；

![](../images/helpdoc/PNG/8d2d8e7a81a3fb9fa3633516da795d94.png)

图2-73报警实例列表

#### <h4><a name="2.7.5.2实例属性"></a>2.7.5.2 实例属性</h4>

树形列表中所选报警实例的属性，可在此处进行查看和修改。

![](../images/helpdoc/PNG/3fe7769cebb2913c537d23b3ecff512a.png)

图2-74采控实例属性窗口

#### <h4><a name="2.7.5.3创建和删除实例"></a>2.7.5.3 创建和删除实例</h4>

1、创建实例

点击“添加实例”按钮，进行创建。

设备类型：泵设备或者管设备

实例名称：实例名称，同一设备类型下不能创建同名实例；

报警单元：在下拉框中选择对应的报警单元；

排序：实例排序序号，对应树形列表中实例显示顺序。

![](../images/helpdoc/PNG/4240b14e3c78489c37075e555359751b.png)

图2-75创建报警实例

2、删除实例

在左侧树形菜单中选中要删除的实例，右键→删除报警实例。

![](../images/helpdoc/PNG/d4236335ad2d8d98ca38a79ae5fa33a7.png)

图2-76删除报警实例

### <h3><a name="2.7.6实例配置-短信实例"></a>2.7.6 实例配置-短信实例</h3>

配置短信设备实例

实例名称：实例名称

采集协议类型：目前支持private-lq1000协议

控制协议烈性：目前支持private-lq1000协议

![](../images/helpdoc/PNG/ce6e39fea2bdb33a43c78f250a8e1341.png)

图2-77短信实例

## <h2><a name="2.8设备管理"></a>2.8 设备管理</h2>

### <h3><a name="2.8.1泵设备"></a>2.8.1 泵设备</h3>

泵设备共包括隔膜泵、螺杆泵、直线电机泵、电潜泵、射流泵五种，不同设备在各自的标签页进行数据维护。

#### <h4><a name="2.8.1.1设备查看及修改"></a>2.8.1.1 设备查看及修改</h4>

1、在设备列表处进行设备主要信息查看和修改：

井名：井名；

应用场景：煤层气井或者油井；

采控实例：对应驱动配置/实例配置/采控实例中配置的实例；

报警实例：对应驱动配置/实例配置/报警实例中配置的实例；

注册包ID：上位机通过注册包ID和设备从地址区分设备；

设备从地址：上位机通过注册包ID和设备从地址区分设备；

排序编号：设备显示顺序；

2、设备附加信息配置：录入设备附加信息，如出厂编号、规格型号、生产日期、发货日期、投产日期、控制柜型号等；

3、辅件设备配置：在辅件设备列表中，勾选左侧设备表中所选设备具有的辅件设备。

辅件设备的维护见“2.8.3辅件设备”部分。

![](../images/helpdoc/PNG/d17709d603bcfdb0d6a04bdfbef62f4e.png)

图2-78 泵设备管理

#### <h4><a name="2.8.1.2添加设备"></a>2.8.1.2 添加设备</h4>

点击“添加设备”按钮，将在选中的单位下添加设备，如没有选中单位，则在第一个单位下添加，同一单位下不能添加同名设备。

![](../images/helpdoc/PNG/45e4bf0ddc75c6e78eb8379763afae84.png)

图2-79 添加泵设备

井名：同一单位下不能添加同名设备；

应用场景：煤层气井或油井；

采控实例：对应驱动配置/实例配置/采控实例中配置的实例；

报警实例：对应驱动配置/实例配置/报警实例中配置的实例；

注册包ID：上位机通过注册包ID和设备从地址区分设备；

设备从地址：上位机通过注册包ID和设备从地址区分设备；

状态：设为失效后，将不再采集该设备的数据；

排序编号：设备显示顺序；

#### <h4><a name="2.8.1.3删除设备"></a>2.8.1.3 删除设备</h4>

在设备列表中选中删除的设备，点击“删除设备”按钮，进行删除操作。

![](../images/helpdoc/PNG/c0de6056609ec5badb3970edaae3fa00.png)

图2-80 删除泵设备

#### <h4><a name="2.8.1.4批量添加"></a>2.8.1.4 批量添加</h4>

点击“批量添加”按钮，在所选单位下进行设备批量添加。在弹出的窗口中编辑添加的设备信息（可在excel中编辑好，粘贴到表格中），点击“保存”按钮进行保存。校验无问题的数据直接保存，有问题的数据返回并显示异常数据处理窗口，在窗口中进行数据修改二次保存，或者放弃。无异常数据直接保存成功。

![](../images/helpdoc/PNG/5f8c91e5c6617a8cdee2bfe84d032165.png)

图2-81 批量添加泵设备

保存后，如果有校验不通过的数据，会显示异常数据处理窗口。异常数据分为冲突数据(注册包ID、设备从地址和已有设备冲突)和已有数据（同一单位下已存在同名设备）。

冲突数据修改注册包ID和设备从地址，直到无冲突时才可保存成功。

已有数据继续保存的话，覆盖同名设备的信息，不会添加设备。

![](../images/helpdoc/PNG/1f84227beac919e90bdfc612a679a155.png)

图2-82 批量添加泵设备-异常数据处理

### <h3><a name="2.8.2管设备"></a>2.8.2 管设备</h3>

泵设备共包括加热管、采水管、集输管三种，不同设备在各自的标签页进行数据维护。

#### <h4><a name="2.8.2.1设备查看及修改"></a>2.8.2.1 设备查看及修改</h4>

1、在设备列表处进行设备主要信息查看和修改：

井名：井名；

应用场景：煤层气井或者油井；

采控实例：对应驱动配置/实例配置/采控实例中配置的实例；

报警实例：对应驱动配置/实例配置/报警实例中配置的实例；

注册包ID：上位机通过注册包ID和设备从地址区分设备；

设备从地址：上位机通过注册包ID和设备从地址区分设备；

排序编号：设备显示顺序；

2、设备附加信息配置：录入设备附加信息，如出厂编号、规格型号、生产日期、发货日期、投产日期、控制柜型号、管体长度等；

3、辅件设备配置：在辅件设备列表中，勾选左侧设备表中所选设备具有的辅件设备。

辅件设备的维护见“2.8.3辅件设备”部分。

![](../images/helpdoc/PNG/b03704fbe3cb16f23696d621c933e860.png)

图2-83 管设备管理

#### <h4><a name="2.8.2.2添加设备"></a>2.8.2.2 添加设备</h4>

点击“添加设备”按钮，将在选中的单位下添加设备，如没有选中单位，则在第一个单位下添加，同一单位下不能添加同名设备。

![](../images/helpdoc/PNG/afe38a14cc11fb40be7d0a214f4c3ad1.png)

图2-84 添加管设备

井名：同一单位下不能添加同名设备；

应用场景：煤层气井或油井；

采控实例：对应驱动配置/实例配置/采控实例中配置的实例；

报警实例：对应驱动配置/实例配置/报警实例中配置的实例；

注册包ID：上位机通过注册包ID和设备从地址区分设备；

设备从地址：上位机通过注册包ID和设备从地址区分设备；

状态：设为失效后，将不再采集该设备的数据；

排序编号：设备显示顺序；

#### <h4><a name="2.8.2.3删除设备"></a>2.8.2.3 删除设备</h4>

在设备列表中选中删除的设备，点击“删除设备”按钮，进行删除操作。

![](../images/helpdoc/PNG/7cdc508c8ff00aae6b3cdca1d73c4226.png)

图2-85 删除管设备

#### <h4><a name="2.8.2.4批量添加"></a>2.8.2.4 批量添加</h4>

点击“批量添加”按钮，在所选单位下进行设备批量添加。在弹出的窗口中编辑添加的设备信息（可在excel中编辑好，粘贴到表格中），点击“保存”按钮进行保存。校验无问题的数据直接保存，有问题的数据返回并显示异常数据处理窗口，在窗口中进行数据修改二次保存，或者放弃。无异常数据直接保存成功。

![](../images/helpdoc/PNG/a8b4c1bca42ca2e92a02339af32bd4f4.png)

图2-86 批量添加管设备

保存后，如果有校验不通过的数据，会显示异常数据处理窗口。异常数据分为冲突数据(注册包ID、设备从地址和已有设备冲突)和已有数据（同一单位下已存在同名设备）。

冲突数据修改注册包ID和设备从地址，直到无冲突时才可保存成功。

已有数据继续保存的话，覆盖同名设备的信息，不会添加设备。

![](../images/helpdoc/PNG/5cb6acee4ced18dd48439ec899cdc62e.png)

图2-87 批量添加管设备-异常数据处理

### <h3><a name="2.8.3辅件设备"></a>2.8.3 辅件设备</h3>

#### <h4><a name="2.8.3.1修改设备"></a>2.8.3.1 修改设备</h4>

在表中修改设备信息后，点击“保存按钮”。

![](../images/helpdoc/PNG/21d62d4974c4dbe5b71d64ebb64f3e10.png)

图2-88 辅件设备管理

#### <h4><a name="2.8.3.2添加设备"></a>2.8.3.2 添加设备</h4>

点击“添加设备”按钮，打开添加窗口，不能添加设备名称、类型以及规格型号全部相同的设备。

![](../images/helpdoc/PNG/0afccf19f443efe2d3fed4dacb6057d7.png)

图2-89 添加辅件设备

#### <h4><a name="2.8.3.3删除设备"></a>2.8.3.3 删除设备</h4>

在设备列表中选中删除的设备，点击“删除设备”按钮，进行删除操作。

![](../images/helpdoc/PNG/ea4583056a259bc01fcc4cc8eaf3d88f.png)

图2-90 删除辅件设备

#### <h4><a name="2.8.3.4批量添加"></a>2.8.3.4 批量添加</h4>

点击“批量添加”按钮，进行设备批量添加。在弹出的窗口中编辑添加的设备信息（可在excel中编辑好，粘贴到表格中），点击“保存”按钮进行保存。校验无问题的数据直接保存，有问题的数据返回并显示异常数据处理窗口，在窗口中进行数据修改二次保存，或者放弃。无异常数据直接保存成功。

![](../images/helpdoc/PNG/d83f0415c27c25a65b6d06f213003775.png)

图2-91 批量添加辅件设备

保存后，如果有校验不通过的数据，会显示异常数据处理窗口。异常数据主要为已有数据（设备名称、类型、规格型号相同）。

已有数据继续保存的话，覆盖同名设备的信息，不会添加设备。

![](../images/helpdoc/PNG/018482d2ba9aa8785a12b108c88cbf00.png)

图2-92 批量添加辅件设备-异常数据处理

### <h3><a name="2.8.4短信设备"></a>2.8.4 短信设备</h3>

#### <h4><a name="2.8.4.1修改设备"></a>2.8.4.1 修改设备</h4>

在表中修改设备信息后，点击“保存按钮”。

![](../images/helpdoc/PNG/a2b3ac41164b99f91b60fbd6db3c2457.png)

图2-93 短信设备管理

#### <h4><a name="2.8.4.2添加设备"></a>2.8.4.2 添加设备</h4>

点击“添加设备”按钮，打开添加窗口，不能添加同名设备。

![](../images/helpdoc/PNG/8a7350c8b821986b61cc8903460dbb70.png)

图2-94 添加短信设备

#### <h4><a name="2.8.4.3删除设备"></a>2.8.4.3 删除设备</h4>

在设备列表中选中删除的设备，点击“删除设备”按钮，进行删除操作。

![](../images/helpdoc/PNG/1e54f2edaac4ff6be49bfe4e98cf605c.png)

图2-95 删除管设备

## <h2><a name="2.9系统配置"></a>2.9 系统配置</h2>

### <h3><a name="2.9.1模块配置"></a>2.9.1 模块配置</h3>

配置模块信息。可修改模块名称、模块简介、模块顺序，其他内容不要改动。

![](../images/helpdoc/PNG/c215c4f53f999528b9c9d96787c88adf.png)

图2-96 模块配置

### <h3><a name="2.9.2字典配置"></a>2.9.2 字典配置</h3>

对各模块显示的字段进行管理，主要修改字段名称、显示顺序、是否启用等。如“泵设备实时概览”（即实时监控模块中泵设备概览表）中显示哪些内容，可点击对应字典项，并在里面进行勾选。字典模块代码和字段代码不要修改。

![](../images/helpdoc/PNG/98a1fc2796445fa25aadeb83a3743d00.png)

图2-97 字典配置

双击某一项，进行该数据项修改，字段代码和数据库字段对应，不要修改：

![](../images/helpdoc/PNG/09a0cde6bd5e842981b7519ec52ae93c.png)

图2-98 字典数据项配置
